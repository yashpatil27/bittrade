<!DOCTYPE html>
<html>
<head>
    <title>Timezone Detection Test</title>
</head>
<body>
    <h1>Timezone Detection Test</h1>
    <div id="results"></div>
    
    <script>
        const results = document.getElementById('results');
        
        // Get timezone info
        const timezone = Intl.DateTimeFormat().resolvedOptions().timeZone;
        const now = new Date();
        const utcTime = now.toISOString();
        
        // Format in detected timezone
        const localTime = new Intl.DateTimeFormat('en-US', {
            timeZone: timezone,
            year: 'numeric',
            month: 'short',
            day: '2-digit',
            hour: '2-digit',
            minute: '2-digit',
            second: '2-digit',
            hour12: true,
            timeZoneName: 'short'
        }).format(now);
        
        // Test a specific UTC timestamp (like your transaction)
        const testTimestamp = '2025-07-31T06:37:00.000Z'; // This should be around your transaction time
        const testDate = new Date(testTimestamp);
        const formattedTest = new Intl.DateTimeFormat('en-US', {
            timeZone: timezone,
            month: 'short',
            day: '2-digit',
            hour: '2-digit',
            minute: '2-digit',
            hour12: true
        }).format(testDate);
        
        results.innerHTML = `
            <p><strong>Detected Timezone:</strong> ${timezone}</p>
            <p><strong>UTC Time:</strong> ${utcTime}</p>
            <p><strong>Your Local Time:</strong> ${localTime}</p>
            <p><strong>Test Transaction Time:</strong> ${testTimestamp} â†’ ${formattedTest}</p>
            <p><strong>Expected for Oregon (PDT):</strong> Should show Jul 30 at 11:37 PM</p>
        `;
        
        console.log('Timezone Detection Results:', {
            timezone,
            utcTime,
            localTime,
            testTimestamp,
            formattedTest
        });
    </script>
</body>
</html>
